<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>日程調整 - 新規作成</title>
<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:40px;background:#f5f5f5;text-align:center}
h1{margin:0 0 20px}
input,button{font-size:16px;padding:10px;border-radius:6px;border:1px solid #ccc}
button{border:none;background:#1976d2;color:#fff;cursor:pointer;margin-left:10px}
</style>
</head>
<body>
<h1>新しい日程調整を作成</h1>

<!-- ★ イベント名入力を追加 -->
<input type="text" id="evtName" placeholder="イベント名を入力">
<button id="createBtn">日程調整をする</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
  apiKey: "AIzaSyAepFfy33SQTgSWjG2e6W2PSKp0sbSIk_E",
  authDomain: "gap-schedule.firebaseapp.com",
  projectId: "gap-schedule",
  storageBucket: "gap-schedule.firebasestorage.app",
  messagingSenderId: "610048232965",
  appId: "1:610048232965:web:c0f61d55f56c1079f3d66c"
};

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  
document.getElementById('createBtn').onclick = () => {
  const name = document.getElementById('evtName').value.trim();
  if(!name){ alert('イベント名を入力してください'); return; }

  const id = 'e' + Date.now().toString(36) + Math.random().toString(36).slice(2,6);
  /* 保存データに eventName を追加 */
  localStorage.setItem('event_'+id, JSON.stringify({
    id,
    eventName: name,
    slots: [],
    participants: [],
    matches: []
  }));
  location.href = `organizer.html?event=${id}&tab=setup`;
};
</script>
</body>
</html>
